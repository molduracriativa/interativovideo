<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Convite Interativo</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  background: #000;
  overflow: hidden;
  font-family: Arial, sans-serif;
}

video {
  position: fixed;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Hotspots invisíveis */
.hotspot {
  position: absolute;
  background: rgba(255, 0, 0, 0.0);
}

/* Hotspots de DEBUG (menu) */
.hotspot-debug {
  position: absolute;
  background: rgba(255, 0, 0, 0.35);
}

/* Texto Vídeo 1 */
#footerVideo1 {
  position: absolute;
  bottom: 6%;
  width: 100%;
  text-align: center;
  color: #fff;
  line-height: 1.4;
  pointer-events: none;
}

#footerVideo1 .nome {
  font-size: 18px;
  font-weight: bold;
  margin-bottom: 6px;
}

#footerVideo1 .linha {
  font-size: 15px;
}

/* Menu */
#menu {
  position: absolute;
  right: 0;
  top: 50%;
  transform: translateY(-50%);
  display: none;
  z-index: 10;
}
</style>
</head>

<body>

<script>
const convidados = [
  "Drika","Andressa","Ramon","Myrtes","Thais",
  "Marcela","Tatiane","Kelly","Katia","Aline"
];
</script>

<audio id="bgAudio" src="media/audio.mp3" loop></audio>

<video id="video1" src="media/video1.mp4" autoplay muted playsinline></video>
<video id="video2" src="media/video2.mp4" playsinline hidden></video>
<video id="video3" src="media/video3.mp4" playsinline hidden></video>
<video id="video4" src="media/video4.mp4" playsinline hidden></video>
<video id="video5" src="media/video5.mp4" playsinline hidden></video>

<!-- TEXTO VIDEO 1 -->
<div id="footerVideo1">
  <div class="nome" id="nomeConvidado"></div>
  <div class="linha">Este convite foi preparado</div>
  <div class="linha">especialmente para você.</div>
</div>

<img id="menu" src="media/menu.png">

<div style="display:none" aria-hidden="true">
© 2026 Cristiane Oliveira – Todos os direitos reservados.
</div>

<script>
/* ================= CONTROLE ================= */
const videos = document.querySelectorAll("video");
const audio = document.getElementById("bgAudio");
const menu = document.getElementById("menu");
let currentVideo = "video1";

function showVideo(id) {
  videos.forEach(v => {
    v.pause();
    v.hidden = true;
  });

  document.getElementById("footerVideo1").style.display =
    id === "video1" ? "block" : "none";

  currentVideo = id;

  const video = document.getElementById(id);
  video.hidden = false;
  video.currentTime = 0;
  video.play();

  if (id !== "video2") {
    menu.style.display = "none";
    menuContainer.style.display = "none";
  }
}

/* ================= VIDEO 1 ================= */
window.onload = () => {
  const nome = new URLSearchParams(location.search).get("nome");
  document.getElementById("nomeConvidado").innerText =
    convidados.includes(nome) ? nome : "Convidado Especial";
};

const cliqueVideo1 = document.createElement("div");
cliqueVideo1.className = "hotspot";
Object.assign(cliqueVideo1.style, { inset: 0 });

cliqueVideo1.onclick = () => {
  if (currentVideo !== "video1") return;
  audio.volume = 0;
  audio.play();
  audio.volume = 1;
  showVideo("video2");
};
document.body.appendChild(cliqueVideo1);

/* ================= VIDEO 2 ================= */

/* SOM – esquerda */
const soundToggle = document.createElement("div");
soundToggle.className = "hotspot";
Object.assign(soundToggle.style, {
  left: 0, top: 0, width: "60px", height: "100%"
});
soundToggle.onclick = () => {
  if (currentVideo !== "video2") return;
  audio.paused ? audio.play() : audio.pause();
};
document.body.appendChild(soundToggle);

/* MENU TOGGLE – direita */
const menuToggle = document.createElement("div");
menuToggle.className = "hotspot";
Object.assign(menuToggle.style, {
  right: 0, top: 0, width: "60px", height: "100%"
});
menuToggle.onclick = () => {
  if (currentVideo !== "video2") return;
  const aberto = menu.style.display === "block";
  menu.style.display = aberto ? "none" : "block";
  menuContainer.style.display = aberto ? "none" : "block";
};
document.body.appendChild(menuToggle);

/* HOTSPOTS DO MENU (DEBUG VISÍVEL) */
const menuContainer = document.createElement("div");
Object.assign(menuContainer.style, {
  position: "absolute",
  right: "10px",
  top: "50%",
  transform: "translateY(-50%)",
  display: "none",
  zIndex: 20
});
document.body.appendChild(menuContainer);

["video3", "video4", "video5"].forEach((vid, i) => {
  const btn = document.createElement("div");
  btn.className = "hotspot-debug";
  Object.assign(btn.style, {
    width: "120px",
    height: "80px",
    marginBottom: i < 2 ? "25px" : "0"
  });

  btn.onclick = () => {
    if (currentVideo !== "video2") return;
    showVideo(vid);
  };

  menuContainer.appendChild(btn);
});
</script>

</body>
</html>
