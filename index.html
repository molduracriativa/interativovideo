<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Convite Interativo</title>

<style>
*{margin:0;padding:0;box-sizing:border-box}
html,body{width:100%;height:100%;overflow:hidden;background:#000}

/* ===== VÍDEO ===== */
#video{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
  z-index:1;
}

/* ===== ÁUDIO ===== */
#audio{display:none}

/* ===== RODAPÉ VÍDEO 1 ===== */
#footerInvite{
  position:absolute;
  bottom:6%;
  width:100%;
  text-align:center;
  color:#fff;
  font-family:Arial,sans-serif;
  z-index:5;
}
#footerInvite span{
  display:block;
  margin-top:6px;
  font-size:18px;
}

/* ===== DEBUG ===== */
.debug{background:rgba(255,0,0,.35)}

/* ===== CLIQUE VIDEO 1 ===== */
#video1Click{
  position:absolute;
  inset:0;
  z-index:10;
}

/* ===== CONTROLE SOM ===== */
#audioControl{
  position:absolute;
  top:15px;
  left:15px;
  width:80px;
  height:80px;
  z-index:20;
  display:none;
}

/* ===== BOTÃO MENU ===== */
#menuToggle{
  position:absolute;
  top:15px;
  right:15px;
  width:120px;
  height:80px;
  z-index:20;
  display:none;
}

/* ===== BOTÃO RETORNO (VÍDEOS 3,4,5) ===== */
#backToVideo2{
  position:absolute;
  top:15px;
  right:15px;
  width:120px;
  height:80px;
  z-index:20;
  display:none;
}

/* ===== MENU ===== */
#menu{
  position:absolute;
  right:0;
  top:50%;
  transform:translateY(-50%);
  width:260px;
  height:360px;
  background:url("media/menu.png") no-repeat right center;
  background-size:contain;
  display:none;
  z-index:15;
}

/* ===== HOTSPOTS MENU ===== */
.menu-hotspot{
  position:absolute;
  right:20px;
  width:120px;
  height:80px;
  cursor:pointer;
}

#btn1{ top:60px; }
#btn2{ top:155px; }
#btn3{ top:250px; }

</style>
</head>

<body>

<video id="video" autoplay muted playsinline loop></video>
<audio id="audio" src="media/audio.mp3" loop></audio>

<div id="video1Click"></div>
<div id="footerInvite"></div>

<div id="audioControl" class="debug"></div>
<div id="menuToggle" class="debug"></div>
<div id="backToVideo2" class="debug"></div>

<div id="menu">
  <div id="btn1" class="menu-hotspot debug" onclick="goVideo(3)"></div>
  <div id="btn2" class="menu-hotspot debug" onclick="goVideo(4)"></div>
  <div id="btn3" class="menu-hotspot debug" onclick="goVideo(5)"></div>
</div>

<script>
/* ===== CONFIG ===== */
const retornoVideo2Offset = 6;

/* ===== CONVIDADOS ===== */
const convidados = [
 "Drika","Andressa","Ramon","Myrtes","Thais",
 "Marcela","Tatiane","Kelly","Katia","Aline"
];

/* ===== ELEMENTOS ===== */
const video = document.getElementById("video");
const audio = document.getElementById("audio");
const footer = document.getElementById("footerInvite");
const clickV1 = document.getElementById("video1Click");
const audioCtrl = document.getElementById("audioControl");
const menuToggle = document.getElementById("menuToggle");
const menu = document.getElementById("menu");
const backBtn = document.getElementById("backToVideo2");

/* ===== ESTADO ===== */
let currentVideo = 1;
let video2ReturnTime = 0;

/* ===== INIT ===== */
loadVideo(1);

/* ===== LOAD VIDEO ===== */
function loadVideo(n){
  currentVideo = n;
  video.src = `media/video${n}.mp4`;
  video.loop = n !== 1;
  video.load();
  video.play();

  footer.style.display = n === 1 ? "block" : "none";
  clickV1.style.display = n === 1 ? "block" : "none";
  audioCtrl.style.display = n === 2 ? "block" : "none";
  menuToggle.style.display = n === 2 ? "block" : "none";
  menu.style.display = "none";
  backBtn.style.display = (n === 3 || n === 4 || n === 5) ? "block" : "none";

  if(n === 1) showInvite();
  if(n === 2){
    video.onloadedmetadata = ()=>{
      video2ReturnTime = Math.max(0, video.duration - retornoVideo2Offset);
    };
  }
}

/* ===== VIDEO 1 ===== */
clickV1.onclick = ()=>{
  audio.play();
  loadVideo(2);
};

/* ===== TEXTO CONVIDADO ===== */
function showInvite(){
  const params = new URLSearchParams(window.location.search);
  const nome = params.get("nome");
  if(nome && convidados.includes(nome)){
    footer.innerHTML = `<strong>${nome}</strong>
    <span>Este convite foi preparado<br>especialmente para você</span>`;
  }
}

/* ===== SOM ===== */
audioCtrl.onclick = (e)=>{
  e.stopPropagation();
  audio.paused ? audio.play() : audio.pause();
};

/* ===== MENU ===== */
menuToggle.onclick = (e)=>{
  e.stopPropagation();
  menu.style.display = menu.style.display === "block" ? "none" : "block";
};

/* ===== BOTÃO RETORNO ===== */
backBtn.onclick = ()=>{
  loadVideo(2);
  video.onloadedmetadata = ()=>{
    video.currentTime = video2ReturnTime;
  };
};

/* ===== MENU NAV ===== */
function goVideo(n){
  loadVideo(n);
}
</script>

<!-- Proteção de autoria -->
<div style="display:none" aria-hidden="true">
© 2026 Cristiane Oliveira – Todos os direitos reservados.
</div>

</body>
</html>
