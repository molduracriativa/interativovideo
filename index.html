<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Convite Interativo</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
}

html,body{
  width:100%;
  height:100%;
  overflow:hidden;
  background:#000;
  font-family:Arial,sans-serif;
}

/* ===== CENAS ===== */
.cena{
  position:absolute;
  inset:0;
  display:none;
  z-index: 1;
}

.cena.active{
  display:block;
}

video,img{
  width:100%;
  height:100%;
  object-fit:cover;
}

/* ===== HOTSPOTS GERAIS ===== */
.hotspot{
  position:absolute;
  cursor:pointer;
  z-index: 5;
}

.hotspot-full{
  inset:0;
  background: transparent;
}

/* ===== MENU LATERAL (AJUSTADO) ===== */
.menu-container{
  position:absolute;
  right:0;              
  top:55%; /* Leve ajuste para descer um pouco e alinhar com a arte */
  transform:translateY(-50%);
  
  /* LARGURA REDUZIDA: O hotspot só vai até a metade da tela */
  width: 350px;        
  
  z-index:20;
  display: none;        
  flex-direction: column;
  gap: 25px; /* Espaço entre botões Onde, Quando e Dicas */
  align-items: flex-end;

  background-image: url("media/menu-botoes.png");
  /* AUMENTO DA ARTE: background-size maior que 100% faz a imagem crescer */
  background-size: 140%; 
  background-repeat: no-repeat;
  background-position: right center;
}

/* ===== BOTÕES (MAIS ESTREITOS) ===== */
.menu-btn{
  /* Largura que você queria diminuir para não cobrir o desenho */
  width: 350px;        
  height: 150px; /* Altura ajustada para o formato retangular mais fino */
  cursor: pointer;
  display: block;

  /* AJUDA VISUAL: Apague as 2 linhas abaixo para ocultar o vermelho */
  
}

/* ===== TOPO E CRONÔMETRO ===== */
.top-bar{
  position:absolute;
  top:0;
  width:100%;
  height:100px;
  z-index:10;
  pointer-events: none;
}

.hotspot-audio, .hotspot-menu, .hotspot-back{
  pointer-events: auto;
}

.hotspot-audio{
  left:0;
  top:0;
  width:80px;
  height:100px;
}

.hotspot-menu{
  right:120px;
  top:15px;
  width:80px;
  height:120px;
}

#timer{
  position:absolute;
  top:30px;
  left:50%;
  transform:translateX(-50%);
  color:#fff;
  font-size:24px;
  z-index:15;
  display:none;
}

/* ===== RODAPÉ ===== */
.bottom-bar{
  position:absolute;
  bottom:0;
  width:100%;
  height:120px;
  display:flex;
  justify-content:space-between;
  z-index:10;
}

.bottom-bar a{
  width:120px;
  height:120px;
}

.hotspot-back{
  top:0;
  right:120px;
  width:120px;
  height:120px;
}

/* MOBILE ADAPTATION */
@media(max-width:768px){
  .hotspot-menu, .hotspot-back{ right:50px; }
  .menu-container { width: 300px; }
  .menu-btn { width: 300px; height: 110px; }
}
</style>
</head>

<body>

<audio id="bgAudio" src="media/audio.mp3" loop></audio>

<section id="cena1" class="cena active">
  <video src="media/video1.mp4" autoplay muted playsinline loop></video>
  <div class="hotspot hotspot-full" onclick="iniciarTudo()"></div>
</section>

<section id="cena2" class="cena">
  <video id="video2" src="media/video2.mp4" autoplay muted playsinline></video>

  <div class="top-bar">
    <div class="hotspot hotspot-audio" onclick="toggleAudio()"></div>
    <div id="timer"></div>
    <div class="hotspot hotspot-menu" onclick="toggleMenu()"></div>
  </div>

  <div id="menu" class="menu-container">
    <a class="menu-btn" href="https://maps.app.goo.gl/jmbXcW447N8cxpAK7" target="_blank"></a>
    <div class="menu-btn" onclick="goToCena(3)"></div>
    <div class="menu-btn" onclick="goToCena(4)"></div>
  </div>

  <div class="bottom-bar">
    <a href="https://forms.gle/ywTGBg1NVGu73hKA6" target="_blank"></a>
    <a href="https://forms.gle/ZraNk1GqcFL4MaSR9" target="_blank"></a>
  </div>
</section>

<section id="cena3" class="cena">
  <img src="media/cena3.png">
  <div class="hotspot hotspot-back" onclick="goToCena(2, true)"></div>
</section>

<section id="cena4" class="cena">
  <img src="media/cena4.png">
  <div class="hotspot hotspot-back" onclick="goToCena(2, true)"></div>
</section>

<script>
const audio = document.getElementById("bgAudio");
let audioStarted = false;

function iniciarTudo() {
  audio.play().then(() => { audioStarted = true; }).catch(e => console.log(e));
  goToCena(2);
}

function goToCena(n, voltarFinal = false){
  document.getElementById("menu").style.display = "none";
  document.querySelectorAll(".cena").forEach(c => c.classList.remove("active"));
  document.getElementById("cena"+n).classList.add("active");

  const v2 = document.getElementById("video2");
  if(n === 2) {
    if(voltarFinal) {
      v2.currentTime = 6; 
      document.getElementById("timer").style.display = "block";
    } else {
      v2.currentTime = 0;
    }
    v2.play();
  } else {
    v2.pause();
  }
}

function toggleMenu(){
  const menu = document.getElementById("menu");
  if (menu.style.display === "none" || menu.style.display === "") {
    menu.style.display = "flex";
  } else {
    menu.style.display = "none";
  }
}

function toggleAudio(){
  audio.paused ? audio.play() : audio.pause();
}

const eventDate = new Date("2026-08-18T00:00:00");
const timerDiv = document.getElementById("timer");

setInterval(()=>{
  const now = new Date();
  const diff = eventDate - now;
  if(diff <= 0){
    timerDiv.innerText = "É hoje!";
    return;
  }
  const d = Math.floor(diff/86400000);
  const h = Math.floor(diff/3600000)%24;
  const m = Math.floor(diff/60000)%60;
  const s = Math.floor(diff/1000)%60;
  timerDiv.innerText = `${d}d ${h}h ${m}m ${s}s`;
}, 1000);

document.getElementById("video2").addEventListener("ended", () => {
  document.getElementById("timer").style.display = "block";
});
</script>

</body>
</html>
