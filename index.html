<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Convite Interativo</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  background: #000;
  width: 100%;
  height: 100%;
  overflow: hidden;
  font-family: Arial, sans-serif;
}

video {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Hotspots invisíveis */
.hotspot {
  position: absolute;
  background: rgba(255, 0, 0, 0.0);
}

/* Rodapé texto */
.footer-text {
  position: absolute;
  bottom: 6%;
  width: 100%;
  text-align: center;
  color: #fff;
  font-size: 16px;
  line-height: 1.4;
}

/* Menu */
#menu {
  position: absolute;
  right: 0;
  top: 50%;
  transform: translateY(-50%);
  display: none;
}

.menu-item {
  width: 60px;
  height: 60px;
  margin-bottom: 25px;
}

/* Cronômetro */
#countdown {
  position: absolute;
  top: 6%;
  width: 100%;
  text-align: center;
  color: #fff;
}

.count-numbers {
  font-size: 42px;
  font-weight: bold;
}

.count-labels {
  font-size: 14px;
  margin-top: 8px;
  letter-spacing: 2px;
}
</style>
</head>

<body>

<!-- Lista fechada de convidados -->
<script>
const convidados = [
  "Drika","Andressa","Ramon","Myrtes","Thais",
  "Marcela","Tatiane","Kelly","Katia","Aline"
];
</script>

<!-- Áudio global -->
<audio id="bgAudio" src="media/audio.mp3" loop></audio>

<!-- Vídeos -->
<video id="video1" src="media/video1.mp4" autoplay muted playsinline></video>
<video id="video2" src="media/video2.mp4" playsinline hidden></video>
<video id="video3" src="media/video3.mp4" playsinline hidden></video>
<video id="video4" src="media/video4.mp4" playsinline hidden></video>
<video id="video5" src="media/video5.mp4" playsinline hidden></video>

<!-- Rodapé Video 1 -->
<div id="footerVideo1" class="footer-text">
  <div id="nomeConvidado"></div>
  <div>Este convite foi preparado</div>
  <div>especialmente para você.</div>
</div>

<!-- MENU -->
<img id="menu" src="media/menu.png" />

<!-- CRONÔMETRO -->
<div id="countdown" hidden>
  <div class="count-numbers" id="countNumbers"></div>
  <div class="count-labels">DIAS&nbsp;&nbsp;HORAS&nbsp;&nbsp;MIN&nbsp;&nbsp;SEG</div>
</div>

<!-- Proteção de autoria -->
<div style="display:none" aria-hidden="true">
© 2026 Cristiane Oliveira – Todos os direitos reservados.
</div>

<script>
/* ===================== CONFIGURAÇÕES ===================== */
const voltarVideo3Delay = 6; // segundos editáveis
const eventoData = new Date("2026-06-01T18:00:00"); // editar data do evento

/* ===================== CONTROLE ===================== */
const videos = document.querySelectorAll("video");
const audio = document.getElementById("bgAudio");

function showVideo(id) {
  videos.forEach(v => {
    v.pause();
    v.hidden = true;
  });
  const video = document.getElementById(id);
  video.hidden = false;
  video.currentTime = 0;
  video.play();
}

/* Volume suave */
function fadeVolume(target, duration = 600) {
  const step = (target - audio.volume) / (duration / 50);
  const interval = setInterval(() => {
    audio.volume += step;
    if ((step > 0 && audio.volume >= target) ||
        (step < 0 && audio.volume <= target)) {
      audio.volume = target;
      clearInterval(interval);
    }
  }, 50);
}

/* ===================== VIDEO 1 ===================== */
window.onload = () => {
  audio.volume = 0;
  audio.play();
  fadeVolume(1);

  const params = new URLSearchParams(window.location.search);
  const nome = params.get("nome");

  document.getElementById("nomeConvidado").innerText =
    convidados.includes(nome) ? nome : "Convidado Especial";
};

document.getElementById("video1").onclick = () => {
  showVideo("video2");
};

/* ===================== VIDEO 2 ===================== */
const soundToggle = document.createElement("div");
soundToggle.className = "hotspot";
soundToggle.style.left = "0";
soundToggle.style.top = "0";
soundToggle.style.width = "60px";
soundToggle.style.height = "100%";
document.body.appendChild(soundToggle);

soundToggle.onclick = () => {
  audio.paused ? audio.play() : audio.pause();
};

const menuToggle = document.createElement("div");
menuToggle.className = "hotspot";
menuToggle.style.right = "0";
menuToggle.style.top = "0";
menuToggle.style.width = "60px";
menuToggle.style.height = "100%";
document.body.appendChild(menuToggle);

menuToggle.onclick = () => {
  const menu = document.getElementById("menu");
  menu.style.display = menu.style.display === "none" ? "block" : "none";
};

/* Menu hotspots */
["video3","video4","video5"].forEach((vid, i) => {
  const btn = document.createElement("div");
  btn.className = "hotspot menu-item";
  btn.style.right = "0";
  btn.style.top = `calc(50% + ${i * 85 - 85}px)`;
  btn.onclick = () => {
    showVideo(vid);
    document.getElementById("menu").style.display = "none";
  };
  document.body.appendChild(btn);
});

/* ===================== VIDEO 3 ===================== */
document.getElementById("video3").onended = () => {
  setTimeout(() => showVideo("video2"), voltarVideo3Delay * 1000);
};

const mapsLink = document.createElement("div");
mapsLink.className = "hotspot";
mapsLink.style.bottom = "20%";
mapsLink.style.left = "50%";
mapsLink.style.transform = "translateX(-50%)";
mapsLink.style.width = "200px";
mapsLink.style.height = "60px";
mapsLink.onclick = () => {
  window.open("https://maps.app.goo.gl/AZBjKdxYEqVsC6N38");
};
document.body.appendChild(mapsLink);

/* ===================== VIDEO 4 ===================== */
function updateCountdown() {
  const now = new Date();
  const diff = eventoData - now;
  if (diff <= 0) return;

  const d = Math.floor(diff / 86400000);
  const h = Math.floor((diff % 86400000) / 3600000);
  const m = Math.floor((diff % 3600000) / 60000);
  const s = Math.floor((diff % 60000) / 1000);

  document.getElementById("countNumbers").innerText =
    `${d} ${h} ${m} ${s}`;
}

setInterval(updateCountdown, 1000);

const confirma = document.createElement("div");
confirma.className = "hotspot";
confirma.style.width = "220px";
confirma.style.height = "80px";
confirma.style.top = "50%";
confirma.style.left = "50%";
confirma.style.transform = "translate(-50%,-50%)";
confirma.onclick = () => {
  window.open("https://forms.gle/gCTygBPyy5mx22aZA");
};
document.body.appendChild(confirma);

/* ===================== VIDEO 5 ===================== */
const voltar5 = document.createElement("div");
voltar5.className = "hotspot";
voltar5.style.top = "20px";
voltar5.style.right = "20px";
voltar5.style.width = "60px";
voltar5.style.height = "60px";
voltar5.onclick = () => showVideo("video2");
document.body.appendChild(voltar5);

</script>
</body>
</html>
