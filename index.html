<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Convite Interativo</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  background: #000;
  overflow: hidden;
  font-family: Arial, sans-serif;
}

video {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Hotspot invisível */
.hotspot {
  position: absolute;
  background: rgba(255, 0, 0, 0.0);
}

/* Texto exclusivo do Vídeo 1 */
#footerVideo1 {
  position: absolute;
  bottom: 6%;
  width: 100%;
  text-align: center;
  color: #fff;
  line-height: 1.4;
  pointer-events: none;
}

#footerVideo1 .nome {
  font-size: 18px;
  font-weight: bold;
  margin-bottom: 6px;
}

#footerVideo1 .linha {
  font-size: 15px;
}
</style>
</head>

<body>

<!-- ================= LISTA FECHADA ================= -->
<script>
const convidados = [
  "Drika","Andressa","Ramon","Myrtes","Thais",
  "Marcela","Tatiane","Kelly","Katia","Aline"
];
</script>

<!-- ================= AUDIO GLOBAL ================= -->
<audio id="bgAudio" src="media/audio.mp3" loop></audio>

<!-- ================= VIDEOS ================= -->
<video id="video1" src="media/video1.mp4" autoplay muted playsinline></video>
<video id="video2" src="media/video2.mp4" playsinline hidden></video>
<video id="video3" src="media/video3.mp4" playsinline hidden></video>
<video id="video4" src="media/video4.mp4" playsinline hidden></video>
<video id="video5" src="media/video5.mp4" playsinline hidden></video>

<!-- ================= TEXTO VIDEO 1 ================= -->
<div id="footerVideo1">
  <div class="nome" id="nomeConvidado"></div>
  <div class="linha">Este convite foi preparado</div>
  <div class="linha">especialmente para você.</div>
</div>

<!-- ================= PROTEÇÃO ================= -->
<div style="display:none" aria-hidden="true">
© 2026 Cristiane Oliveira – Todos os direitos reservados.
</div>

<script>
/* ================= CONTROLE ================= */
const videos = document.querySelectorAll("video");
const audio = document.getElementById("bgAudio");

function showVideo(id) {
  videos.forEach(v => {
    v.pause();
    v.hidden = true;
  });

  document.getElementById("footerVideo1").style.display =
    id === "video1" ? "block" : "none";

  const video = document.getElementById(id);
  video.hidden = false;
  video.currentTime = 0;
  video.play();
}

/* Fade suave do áudio */
function fadeVolume(target, duration = 600) {
  const step = (target - audio.volume) / (duration / 50);
  const interval = setInterval(() => {
    audio.volume += step;
    if ((step > 0 && audio.volume >= target) ||
        (step < 0 && audio.volume <= target)) {
      audio.volume = target;
      clearInterval(interval);
    }
  }, 50);
}

/* ================= VIDEO 1 ================= */
window.onload = () => {
  const params = new URLSearchParams(window.location.search);
  const nome = params.get("nome");

  document.getElementById("nomeConvidado").innerText =
    convidados.includes(nome) ? nome : "Convidado Especial";
};

/* Clique invisível tela cheia */
const cliqueVideo1 = document.createElement("div");
cliqueVideo1.className = "hotspot";
cliqueVideo1.style.top = 0;
cliqueVideo1.style.left = 0;
cliqueVideo1.style.width = "100%";
cliqueVideo1.style.height = "100%";

cliqueVideo1.onclick = () => {
  audio.muted = false;
  audio.volume = 0;
  audio.play();
  fadeVolume(1);
  showVideo("video2");
};

document.body.appendChild(cliqueVideo1);
</script>

</body>
</html>
